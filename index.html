<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>"perfect art" tool</title>
</head>

<body>
    <canvas onmousedown="addtext(event); startcont = true" onmouseup="startcont = false" style="margin-top: 0px; margin-left: 0px; padding: 0px; background-image: repeating-linear-gradient(45deg, lightgreen, lime, yellow, orange, red, purple);" id="canv"
        width="width" height="height"></canvas>
    <button onclick="if(continuous){continuous = false}else{continuous = true}">infinite art supply (click to toggle)</button>

    <script>
        var startcont = false
        var continuous = false
        var x = 0
        var y = 0

        width = screen.availWidth
        height = screen.availHeight
        document.getElementById("canv").setAttribute("width", String(width))
        document.getElementById("canv").setAttribute("height", String(height))

        can = document.getElementById("canv")
        ctx = can.getContext("2d")

        ctx.fillStyle = "black"

        function addtext(event) {
            //console.log(event)
            y = event.pageY
            x = event.pageX
            ctx.fillStyle = "#" + String(Math.floor(Math.random() * 999999))
            ctx.fillText("perfect art", x - 25, y - 10, 100, 20)
        }

        addEventListener("mousemove", function(e) {
            if (continuous && startcont) {
                addtext(e)
            }
        })

        while (startcont && continuous) {
            addtext(MouseEvent)
        }

        //function findpos(mouseEvent) {
        //    x = mouseEvent.pageX
        //    y = mouseEvent.pageY
        //    addtext(mouseEvent)
        //
        //}
        //for (i = 1; i < 1; i++) {
        //    if (continuous == true) {
        //        document.getElementById("canv").onmousemove = findpos(Event);
        //    }
        //}
    </script>
</body>

</html>